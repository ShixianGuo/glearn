

那么当考虑单台服务器并发数量的极限的时候  我们应该考虑以下五元组
>  CPU  内存  网卡  带宽   操作系统


1 TCP的细节
2 服务器并发数量的极限
3 网卡数据的理解

在网卡基础上面实现一个小的UDP协议栈



系统通过一个四元组来唯一标识一条TCP连接： 本地IP  本地端口  远程IP  远程端口

1  fd  连接数量的限制

2  协议栈做成应用程序
    避免了系统调用的copy



如何把协议栈做到应用程序里面？ 

站在CPU的角度  mmap  把网卡内部（网卡上存储数据）空间 之间映射到内存中  mmap核心的东西（DMA）

将网卡映射到内存中： netmap /DPDK


网络协议栈知识

发送一个UDP的数据包

sendto()  recvfrom();

udphdr(8)

iphdr (20)

ethr_headrr (14)





















